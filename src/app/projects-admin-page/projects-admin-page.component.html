<div class="row projects-admin-page">
  <div class="col-md-offset-2 col-md-8">

    <div class="row">
      <div class="col-md-4">
        <input class="form-control" placeholder="Search..." type="text" [(ngModel)]="filterName" (ngModelChange)="filterNameChange($event)">
      </div>

      <div class="col-md-offset-7 col-md-1">
        <button type="button" class="btn btn-primary" routerLink='/admin/newproject/'>Add project</button>
      </div>
    </div>

    <table class="table table-striped">
      <tr class="project-head text-info">
        <th class="thead1">Name</th>
        <th class="thead2">Customer</th>
        <th class="thead3">StartDate</th>
        <th class="thead4">Description</th>
        <th class="thead5"></th>
      </tr>
      <tr class="project-row" *ngFor="let project of projects">
        <td *ngIf="editingId !== project.id"><a [routerLink]="['/projects', project.id]">{{ project.name }}</a></td>
        <td *ngIf="editingId !== project.id">{{ project.customerName }}</td>
        <td *ngIf="editingId !== project.id">{{ moment(project.startDate).format('DD-MM-YYYY') }}</td>
        <td *ngIf="editingId !== project.id"><p>{{ project.description }}</p></td>
        <td *ngIf="editingId !== project.id">
          <button type="button" class="btn btn-default button" (click)="setEdit(project.id)"><span class="glyphicon glyphicon-pencil"></span></button>
          <button type="button" class="btn btn-default button" (click)="deleteProject(project.id)"><span class="glyphicon glyphicon-remove"></span></button>
        </td>

        <td *ngIf="editingId === project.id">
          <div class="form-group">
            <input type="text" class="form-control" [(ngModel)]="edit.Name">
          </div>
        </td>
        <td *ngIf="editingId === project.id">
          <div class="form-group">
            <input type="text" class="form-control" [(ngModel)]="edit.CustomerName">
          </div>
        </td>
        <td *ngIf="editingId === project.id"><dp-date-picker [(ngModel)]="edit.StartDate"></dp-date-picker></td>
        <td *ngIf="editingId === project.id">
          <div class="form-group">
            <input type="text" class="form-control" [(ngModel)]="edit.Description">
          </div>
        </td>
        <td *ngIf="editingId === project.id">
          <button type="button" class="btn btn-success button-margin" (click)="submitChanges()">Submit</button>
          <button type="button" class="btn btn-warning" (click)="closeEdit()">Cancel</button>
        </td>
      </tr>
    </table>
  </div>
</div>
